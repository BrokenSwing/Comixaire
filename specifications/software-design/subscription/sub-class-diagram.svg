<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="665px" preserveAspectRatio="none" style="width:708px;height:665px;" version="1.1" viewBox="0 0 708 665" width="708px" zoomAndPan="magnify"><defs><filter height="300%" id="f1mte8e3ft8ph8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[10ea673caf457862023e152271927b45]
cluster controller--><polygon fill="#FFFFFF" filter="url(#f1mte8e3ft8ph8)" points="401,16,484,16,491,38.2969,633,38.2969,633,163,401,163,401,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="401" x2="491" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="405" y="30.9951">controller</text><!--MD5=[ca469e4799925ce4d986f875dc6f49a8]
cluster subscription--><polygon fill="#FFFFFF" filter="url(#f1mte8e3ft8ph8)" points="348,194,452,194,459,216.2969,686,216.2969,686,303,348,303,348,194" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="348" x2="459" y1="216.2969" y2="216.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="352" y="208.9951">subscription</text><!--MD5=[5622bc4ba3bf2be5d17935065b98c5f9]
cluster dao--><polygon fill="#FFFFFF" filter="url(#f1mte8e3ft8ph8)" points="14,334,49,334,56,356.2969,650,356.2969,650,653,14,653,14,334" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="56" y1="356.2969" y2="356.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="18" y="348.9951">dao</text><!--MD5=[bab4019c732006648757f54388533847]
cluster postgres--><polygon fill="#FFFFFF" filter="url(#f1mte8e3ft8ph8)" points="27,536,104,536,111,558.2969,600,558.2969,600,645,27,645,27,536" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="27" x2="111" y1="558.2969" y2="558.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="31" y="550.9951">postgres</text><!--MD5=[a0d94b09b17b306fb81c487dc7673e5c]
class SubscriptionController--><rect fill="#FEFECE" filter="url(#f1mte8e3ft8ph8)" height="112.0234" id="SubscriptionController" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="409.5" y="43"/><ellipse cx="444.3" cy="59" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M447.2688,64.6406 Q446.6906,64.9375 446.05,65.0859 Q445.4094,65.2344 444.7063,65.2344 Q442.2063,65.2344 440.8859,63.5859 Q439.5656,61.9375 439.5656,58.8125 Q439.5656,55.6875 440.8859,54.0313 Q442.2063,52.375 444.7063,52.375 Q445.4094,52.375 446.0578,52.5313 Q446.7063,52.6875 447.2688,52.9844 L447.2688,55.7031 Q446.6438,55.125 446.05,54.8516 Q445.4563,54.5781 444.8313,54.5781 Q443.4875,54.5781 442.8,55.6484 Q442.1125,56.7188 442.1125,58.8125 Q442.1125,60.9063 442.8,61.9766 Q443.4875,63.0469 444.8313,63.0469 Q445.4563,63.0469 446.05,62.7734 Q446.6438,62.5 447.2688,61.9219 L447.2688,64.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="462.7" y="63.1543">SubscriptionController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="410.5" x2="623.5" y1="75" y2="75"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="417.5" y="83"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="429.5" y="89.2104">createSubscriptionButton: Button</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="417.5" y="95.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="429.5" y="102.0151">startDate: DatePicker</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="417.5" y="108.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="429.5" y="114.8198">cardId: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="410.5" x2="623.5" y1="121.4141" y2="121.4141"/><ellipse cx="420.5" cy="132.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="429.5" y="135.6245">createSubscription(): void</text><ellipse cx="420.5" cy="145.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="429.5" y="148.4292">getClientSubscriptions(): void</text><!--MD5=[3e489ddc5021a896bc0b15410165100e]
class SubscriptionFacade--><rect fill="#FEFECE" filter="url(#f1mte8e3ft8ph8)" height="73.6094" id="SubscriptionFacade" style="stroke: #A80036; stroke-width: 1.5;" width="322" x="356" y="221"/><ellipse cx="450.75" cy="237" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M453.7188,242.6406 Q453.1406,242.9375 452.5,243.0859 Q451.8594,243.2344 451.1563,243.2344 Q448.6563,243.2344 447.3359,241.5859 Q446.0156,239.9375 446.0156,236.8125 Q446.0156,233.6875 447.3359,232.0313 Q448.6563,230.375 451.1563,230.375 Q451.8594,230.375 452.5078,230.5313 Q453.1563,230.6875 453.7188,230.9844 L453.7188,233.7031 Q453.0938,233.125 452.5,232.8516 Q451.9063,232.5781 451.2813,232.5781 Q449.9375,232.5781 449.25,233.6484 Q448.5625,234.7188 448.5625,236.8125 Q448.5625,238.9063 449.25,239.9766 Q449.9375,241.0469 451.2813,241.0469 Q451.9063,241.0469 452.5,240.7734 Q453.0938,240.5 453.7188,239.9219 L453.7188,242.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="471.25" y="241.1543">SubscriptionFacade</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="357" x2="677" y1="253" y2="253"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="357" x2="677" y1="261" y2="261"/><ellipse cx="367" cy="272" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="292" x="376" y="275.2104">create(String clientId, Date startDate): Subscription</text><ellipse cx="367" cy="284.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="296" x="376" y="288.0151">getClientSubscriptions(String cardId): Subscription[]</text><!--MD5=[4a0300a6597e068a69ac5dc42e345e2c]
class DAOFactory--><rect fill="#FEFECE" filter="url(#f1mte8e3ft8ph8)" height="60.8047" id="DAOFactory" style="stroke: #A80036; stroke-width: 1.5;" width="250" x="392" y="367.5"/><ellipse cx="476.75" cy="383.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M476.8594,378.8438 L475.7031,383.9219 L478.0313,383.9219 L476.8594,378.8438 Z M475.375,376.6094 L478.3594,376.6094 L481.7188,389 L479.2656,389 L478.5,385.9375 L475.2188,385.9375 L474.4688,389 L472.0313,389 L475.375,376.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="497.25" y="387.6543">DAOFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="393" x2="641" y1="399.5" y2="399.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="393" x2="641" y1="407.5" y2="407.5"/><ellipse cx="403" cy="418.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="412" y="421.7104">getSubscriptionDAO(): SubscriptionDAO</text><!--MD5=[9936191b1ff3893c86c36253db114b45]
class SubscriptionDAO--><rect fill="#FEFECE" filter="url(#f1mte8e3ft8ph8)" height="73.6094" id="SubscriptionDAO" style="stroke: #A80036; stroke-width: 1.5;" width="279" x="22.5" y="361"/><ellipse cx="105.75" cy="377" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M101.6719,372.7656 L101.6719,370.6094 L109.0625,370.6094 L109.0625,372.7656 L106.5938,372.7656 L106.5938,380.8438 L109.0625,380.8438 L109.0625,383 L101.6719,383 L101.6719,380.8438 L104.1406,380.8438 L104.1406,372.7656 L101.6719,372.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="126.25" y="381.1543">SubscriptionDAO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="300.5" y1="393" y2="393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="23.5" x2="300.5" y1="401" y2="401"/><ellipse cx="33.5" cy="412" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="42.5" y="415.2104">findAllByCardId(String cardId): Subscription[]</text><ellipse cx="33.5" cy="424.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="42.5" y="428.0151">create(Subscription subscription): void</text><!--MD5=[56e752bd0a2e137abf21da890f45b7c8]
class PostgresSubscriptionDAO--><rect fill="#FEFECE" filter="url(#f1mte8e3ft8ph8)" height="73.6094" id="PostgresSubscriptionDAO" style="stroke: #A80036; stroke-width: 1.5;" width="312" x="35" y="563"/><ellipse cx="106.75" cy="579" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M109.7188,584.6406 Q109.1406,584.9375 108.5,585.0859 Q107.8594,585.2344 107.1563,585.2344 Q104.6563,585.2344 103.3359,583.5859 Q102.0156,581.9375 102.0156,578.8125 Q102.0156,575.6875 103.3359,574.0313 Q104.6563,572.375 107.1563,572.375 Q107.8594,572.375 108.5078,572.5313 Q109.1563,572.6875 109.7188,572.9844 L109.7188,575.7031 Q109.0938,575.125 108.5,574.8516 Q107.9063,574.5781 107.2813,574.5781 Q105.9375,574.5781 105.25,575.6484 Q104.5625,576.7188 104.5625,578.8125 Q104.5625,580.9063 105.25,581.9766 Q105.9375,583.0469 107.2813,583.0469 Q107.9063,583.0469 108.5,582.7734 Q109.0938,582.5 109.7188,581.9219 L109.7188,584.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="127.25" y="583.1543">PostgresSubscriptionDAO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="36" x2="346" y1="595" y2="595"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="43" y="603"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="55" y="609.2104">connection: Connection</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="36" x2="346" y1="615.8047" y2="615.8047"/><ellipse cx="46" cy="626.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="55" y="630.0151">PostgresSubscriptionDAO(Connection: connection)</text><!--MD5=[700a5a1f58ccb71a3c0d036256714175]
class PostgresDAOFactory--><rect fill="#FEFECE" filter="url(#f1mte8e3ft8ph8)" height="60.8047" id="PostgresDAOFactory" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="432" y="569.5"/><ellipse cx="447" cy="585.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M449.9688,591.1406 Q449.3906,591.4375 448.75,591.5859 Q448.1094,591.7344 447.4063,591.7344 Q444.9063,591.7344 443.5859,590.0859 Q442.2656,588.4375 442.2656,585.3125 Q442.2656,582.1875 443.5859,580.5313 Q444.9063,578.875 447.4063,578.875 Q448.1094,578.875 448.7578,579.0313 Q449.4063,579.1875 449.9688,579.4844 L449.9688,582.2031 Q449.3438,581.625 448.75,581.3516 Q448.1563,581.0781 447.5313,581.0781 Q446.1875,581.0781 445.5,582.1484 Q444.8125,583.2188 444.8125,585.3125 Q444.8125,587.4063 445.5,588.4766 Q446.1875,589.5469 447.5313,589.5469 Q448.1563,589.5469 448.75,589.2734 Q449.3438,589 449.9688,588.4219 L449.9688,591.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="461" y="589.6543">PostgresDAOFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="433" x2="591" y1="601.5" y2="601.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="440" y="609.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="452" y="615.7104">connection: Connection</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="433" x2="591" y1="622.3047" y2="622.3047"/><!--MD5=[e06bc2ae3dc83bd9928fc9df3f931e7e]
reverse link SubscriptionDAO to PostgresSubscriptionDAO--><path d="M170.22,455.2563 C175.1745,489.7675 181.3416,532.7245 185.6656,562.8435 " fill="none" id="SubscriptionDAO&lt;-PostgresSubscriptionDAO" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="163.2323,455.8417,167.319,435.0499,177.0902,453.8522,163.2323,455.8417" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d37a47b44041b5251d0f0ec75d3c62d9]
reverse link DAOFactory to PostgresDAOFactory--><path d="M515.7427,448.7938 C514.8031,486.7532 513.5495,537.4012 512.7583,569.3634 " fill="none" id="DAOFactory&lt;-PostgresDAOFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="508.7478,448.5001,516.2406,428.6795,522.7435,448.8466,508.7478,448.5001" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c89d338778ad01ff7d47f3ec4cd71b15]
reverse link PostgresSubscriptionDAO to PostgresDAOFactory--><path d="M352.4267,600 C380.0535,600 407.6438,600 431.9231,600 " fill="none" id="PostgresSubscriptionDAO&lt;-PostgresDAOFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="347.2685,600,356.2685,604,352.2685,600,356.2685,596,347.2685,600" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="365.5" y="593.0669">creates</text><!--MD5=[9604f61f1ccb07b6a8fa785f838dee68]
reverse link SubscriptionDAO to DAOFactory--><path d="M306.7942,398 C335.002,398 364.3512,398 391.8581,398 " fill="none" id="SubscriptionDAO&lt;-DAOFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="301.5411,398,310.5411,402,306.5411,398,310.5411,394,301.5411,398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="319.75" y="391.0669">provides</text><!--MD5=[db025fd9cea63f3f39e16bdf0ab72855]
link SubscriptionFacade to DAOFactory--><path d="M517,295.1499 C517,315.9105 517,341.6568 517,362.196 " fill="none" id="SubscriptionFacade-&gt;DAOFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="517,367.2994,521,358.2994,517,362.2994,513,358.2994,517,367.2994" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b0f17b7b6a4877b2165165b19678aab3]
link SubscriptionController to SubscriptionFacade--><path d="M517,155.0575 C517,174.9983 517,197.1002 517,215.6964 " fill="none" id="SubscriptionController-&gt;SubscriptionFacade" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="517,220.8439,521,211.8439,517,215.8439,513,211.8439,517,220.8439" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e41e9564f2771bb578d21117f4ae2b75]
@startuml
package controller {

  class SubscriptionController {
    -createSubscriptionButton: Button
    -startDate: DatePicker
    -cardId: String
    +createSubscription(): void
    +getClientSubscriptions(): void
  }

}

package subscription {
  class SubscriptionFacade {
    +create(String clientId, Date startDate): Subscription
    +getClientSubscriptions(String cardId): Subscription[]
  }
}

package dao {
  abstract class DAOFactory {
    +getSubscriptionDAO(): SubscriptionDAO
  }

  interface SubscriptionDAO {
    +findAllByCardId(String cardId): Subscription[]
    +create(Subscription subscription): void
  }

  package postgres {

    class PostgresSubscriptionDAO implements SubscriptionDAO {
      -connection: Connection
      +PostgresSubscriptionDAO(Connection: connection)
    }

    class PostgresDAOFactory extends DAOFactory {
      -connection: Connection
    }

  }

}

PostgresDAOFactory .left> PostgresSubscriptionDAO : "creates"
DAOFactory .left> SubscriptionDAO : "provides"


SubscriptionFacade -down-> DAOFactory
SubscriptionController - -> SubscriptionFacade
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_232-heroku-b09
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>