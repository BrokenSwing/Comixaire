<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="665px" preserveAspectRatio="none" style="width:719px;height:665px;" version="1.1" viewBox="0 0 719 665" width="719px" zoomAndPan="magnify"><defs><filter height="300%" id="f13bkkagnfgg7u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[10ea673caf457862023e152271927b45]
cluster controller--><polygon fill="#FFFFFF" filter="url(#f13bkkagnfgg7u)" points="410,16,493,16,500,38.2969,642,38.2969,642,163,410,163,410,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="410" x2="500" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="414" y="30.9951">controller</text><!--MD5=[ca469e4799925ce4d986f875dc6f49a8]
cluster subscription--><polygon fill="#FFFFFF" filter="url(#f13bkkagnfgg7u)" points="355,194,459,194,466,216.2969,697,216.2969,697,303,355,303,355,194" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="355" x2="466" y1="216.2969" y2="216.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="359" y="208.9951">subscription</text><!--MD5=[5622bc4ba3bf2be5d17935065b98c5f9]
cluster dao--><polygon fill="#FFFFFF" filter="url(#f13bkkagnfgg7u)" points="14,334,49,334,56,356.2969,659,356.2969,659,653,14,653,14,334" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="56" y1="356.2969" y2="356.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="18" y="348.9951">dao</text><!--MD5=[bab4019c732006648757f54388533847]
cluster postgres--><polygon fill="#FFFFFF" filter="url(#f13bkkagnfgg7u)" points="31,536,108,536,115,558.2969,604,558.2969,604,645,31,645,31,536" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="31" x2="115" y1="558.2969" y2="558.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="71" x="35" y="550.9951">postgres</text><!--MD5=[a0d94b09b17b306fb81c487dc7673e5c]
class SubscriptionController--><rect fill="#FEFECE" filter="url(#f13bkkagnfgg7u)" height="112.0234" id="SubscriptionController" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="418.5" y="43"/><ellipse cx="453.3" cy="59" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M456.2688,64.6406 Q455.6906,64.9375 455.05,65.0859 Q454.4094,65.2344 453.7063,65.2344 Q451.2063,65.2344 449.8859,63.5859 Q448.5656,61.9375 448.5656,58.8125 Q448.5656,55.6875 449.8859,54.0313 Q451.2063,52.375 453.7063,52.375 Q454.4094,52.375 455.0578,52.5313 Q455.7063,52.6875 456.2688,52.9844 L456.2688,55.7031 Q455.6438,55.125 455.05,54.8516 Q454.4563,54.5781 453.8313,54.5781 Q452.4875,54.5781 451.8,55.6484 Q451.1125,56.7188 451.1125,58.8125 Q451.1125,60.9063 451.8,61.9766 Q452.4875,63.0469 453.8313,63.0469 Q454.4563,63.0469 455.05,62.7734 Q455.6438,62.5 456.2688,61.9219 L456.2688,64.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="471.7" y="63.1543">SubscriptionController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="419.5" x2="632.5" y1="75" y2="75"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="426.5" y="83"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="438.5" y="89.2104">createSubscriptionButton: Button</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="426.5" y="95.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="438.5" y="102.0151">startDate: DateField</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="426.5" y="108.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="438.5" y="114.8198">clientId: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="419.5" x2="632.5" y1="121.4141" y2="121.4141"/><ellipse cx="429.5" cy="132.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="438.5" y="135.6245">createSubscription(): void</text><ellipse cx="429.5" cy="145.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="438.5" y="148.4292">getClientSubscriptions(): void</text><!--MD5=[3e489ddc5021a896bc0b15410165100e]
class SubscriptionFacade--><rect fill="#FEFECE" filter="url(#f13bkkagnfgg7u)" height="73.6094" id="SubscriptionFacade" style="stroke: #A80036; stroke-width: 1.5;" width="327" x="362.5" y="221"/><ellipse cx="459.75" cy="237" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M462.7188,242.6406 Q462.1406,242.9375 461.5,243.0859 Q460.8594,243.2344 460.1563,243.2344 Q457.6563,243.2344 456.3359,241.5859 Q455.0156,239.9375 455.0156,236.8125 Q455.0156,233.6875 456.3359,232.0313 Q457.6563,230.375 460.1563,230.375 Q460.8594,230.375 461.5078,230.5313 Q462.1563,230.6875 462.7188,230.9844 L462.7188,233.7031 Q462.0938,233.125 461.5,232.8516 Q460.9063,232.5781 460.2813,232.5781 Q458.9375,232.5781 458.25,233.6484 Q457.5625,234.7188 457.5625,236.8125 Q457.5625,238.9063 458.25,239.9766 Q458.9375,241.0469 460.2813,241.0469 Q460.9063,241.0469 461.5,240.7734 Q462.0938,240.5 462.7188,239.9219 L462.7188,242.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="480.25" y="241.1543">SubscriptionFacade</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="363.5" x2="688.5" y1="253" y2="253"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="363.5" x2="688.5" y1="261" y2="261"/><ellipse cx="373.5" cy="272" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="292" x="382.5" y="275.2104">create(String clientId, Date startDate): Subscription</text><ellipse cx="373.5" cy="284.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="301" x="382.5" y="288.0151">getClientSubscriptions(String clientId): Subscription[]</text><!--MD5=[4a0300a6597e068a69ac5dc42e345e2c]
class DAOFactory--><rect fill="#FEFECE" filter="url(#f13bkkagnfgg7u)" height="60.8047" id="DAOFactory" style="stroke: #A80036; stroke-width: 1.5;" width="250" x="401" y="367.5"/><ellipse cx="485.75" cy="383.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M485.8594,378.8438 L484.7031,383.9219 L487.0313,383.9219 L485.8594,378.8438 Z M484.375,376.6094 L487.3594,376.6094 L490.7188,389 L488.2656,389 L487.5,385.9375 L484.2188,385.9375 L483.4688,389 L481.0313,389 L484.375,376.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="506.25" y="387.6543">DAOFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="402" x2="650" y1="399.5" y2="399.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="402" x2="650" y1="407.5" y2="407.5"/><ellipse cx="412" cy="418.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="421" y="421.7104">getSubscriptionDAO(): SubscriptionDAO</text><!--MD5=[9936191b1ff3893c86c36253db114b45]
class SubscriptionDAO--><rect fill="#FEFECE" filter="url(#f13bkkagnfgg7u)" height="73.6094" id="SubscriptionDAO" style="stroke: #A80036; stroke-width: 1.5;" width="289" x="21.5" y="361"/><ellipse cx="109.75" cy="377" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M105.6719,372.7656 L105.6719,370.6094 L113.0625,370.6094 L113.0625,372.7656 L110.5938,372.7656 L110.5938,380.8438 L113.0625,380.8438 L113.0625,383 L105.6719,383 L105.6719,380.8438 L108.1406,380.8438 L108.1406,372.7656 L105.6719,372.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="130.25" y="381.1543">SubscriptionDAO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="309.5" y1="393" y2="393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="309.5" y1="401" y2="401"/><ellipse cx="32.5" cy="412" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="263" x="41.5" y="415.2104">findAllByClientId(String clientId): Subscription[]</text><ellipse cx="32.5" cy="424.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="41.5" y="428.0151">create(Subscription subscription): void</text><!--MD5=[56e752bd0a2e137abf21da890f45b7c8]
class PostgresSubscriptionDAO--><rect fill="#FEFECE" filter="url(#f13bkkagnfgg7u)" height="73.6094" id="PostgresSubscriptionDAO" style="stroke: #A80036; stroke-width: 1.5;" width="312" x="39" y="563"/><ellipse cx="110.75" cy="579" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M113.7188,584.6406 Q113.1406,584.9375 112.5,585.0859 Q111.8594,585.2344 111.1563,585.2344 Q108.6563,585.2344 107.3359,583.5859 Q106.0156,581.9375 106.0156,578.8125 Q106.0156,575.6875 107.3359,574.0313 Q108.6563,572.375 111.1563,572.375 Q111.8594,572.375 112.5078,572.5313 Q113.1563,572.6875 113.7188,572.9844 L113.7188,575.7031 Q113.0938,575.125 112.5,574.8516 Q111.9063,574.5781 111.2813,574.5781 Q109.9375,574.5781 109.25,575.6484 Q108.5625,576.7188 108.5625,578.8125 Q108.5625,580.9063 109.25,581.9766 Q109.9375,583.0469 111.2813,583.0469 Q111.9063,583.0469 112.5,582.7734 Q113.0938,582.5 113.7188,581.9219 L113.7188,584.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="131.25" y="583.1543">PostgresSubscriptionDAO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="40" x2="350" y1="595" y2="595"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="47" y="603"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="59" y="609.2104">connection: Connection</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="40" x2="350" y1="615.8047" y2="615.8047"/><ellipse cx="50" cy="626.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="59" y="630.0151">PostgresSubscriptionDAO(Connection: connection)</text><!--MD5=[700a5a1f58ccb71a3c0d036256714175]
class PostgresDAOFactory--><rect fill="#FEFECE" filter="url(#f13bkkagnfgg7u)" height="60.8047" id="PostgresDAOFactory" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="436" y="569.5"/><ellipse cx="451" cy="585.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M453.9688,591.1406 Q453.3906,591.4375 452.75,591.5859 Q452.1094,591.7344 451.4063,591.7344 Q448.9063,591.7344 447.5859,590.0859 Q446.2656,588.4375 446.2656,585.3125 Q446.2656,582.1875 447.5859,580.5313 Q448.9063,578.875 451.4063,578.875 Q452.1094,578.875 452.7578,579.0313 Q453.4063,579.1875 453.9688,579.4844 L453.9688,582.2031 Q453.3438,581.625 452.75,581.3516 Q452.1563,581.0781 451.5313,581.0781 Q450.1875,581.0781 449.5,582.1484 Q448.8125,583.2188 448.8125,585.3125 Q448.8125,587.4063 449.5,588.4766 Q450.1875,589.5469 451.5313,589.5469 Q452.1563,589.5469 452.75,589.2734 Q453.3438,589 453.9688,588.4219 L453.9688,591.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="465" y="589.6543">PostgresDAOFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="437" x2="595" y1="601.5" y2="601.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="444" y="609.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="456" y="615.7104">connection: Connection</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="437" x2="595" y1="622.3047" y2="622.3047"/><!--MD5=[e06bc2ae3dc83bd9928fc9df3f931e7e]
reverse link SubscriptionDAO to PostgresSubscriptionDAO--><path d="M174.22,455.2563 C179.1745,489.7675 185.3416,532.7245 189.6656,562.8435 " fill="none" id="SubscriptionDAO&lt;-PostgresSubscriptionDAO" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="167.2323,455.8417,171.319,435.0499,181.0902,453.8522,167.2323,455.8417" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d37a47b44041b5251d0f0ec75d3c62d9]
reverse link DAOFactory to PostgresDAOFactory--><path d="M523.4855,448.7938 C521.6063,486.7532 519.099,537.4012 517.5167,569.3634 " fill="none" id="DAOFactory&lt;-PostgresDAOFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="516.5008,448.3088,524.4812,428.6795,530.4837,449.0011,516.5008,448.3088" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c89d338778ad01ff7d47f3ec4cd71b15]
reverse link PostgresSubscriptionDAO to PostgresDAOFactory--><path d="M356.4267,600 C384.0535,600 411.6438,600 435.9231,600 " fill="none" id="PostgresSubscriptionDAO&lt;-PostgresDAOFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="351.2685,600,360.2685,604,356.2685,600,360.2685,596,351.2685,600" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="369.5" y="593.0669">creates</text><!--MD5=[9604f61f1ccb07b6a8fa785f838dee68]
reverse link SubscriptionDAO to DAOFactory--><path d="M315.8816,398 C344.1786,398 373.4977,398 400.9337,398 " fill="none" id="SubscriptionDAO&lt;-DAOFactory" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="310.6105,398,319.6105,402,315.6105,398,319.6105,394,310.6105,398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="328.75" y="391.0669">provides</text><!--MD5=[db025fd9cea63f3f39e16bdf0ab72855]
link SubscriptionFacade to DAOFactory--><path d="M526,295.1499 C526,315.9105 526,341.6568 526,362.196 " fill="none" id="SubscriptionFacade-&gt;DAOFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="526,367.2994,530,358.2994,526,362.2994,522,358.2994,526,367.2994" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b0f17b7b6a4877b2165165b19678aab3]
link SubscriptionController to SubscriptionFacade--><path d="M526,155.0575 C526,174.9983 526,197.1002 526,215.6964 " fill="none" id="SubscriptionController-&gt;SubscriptionFacade" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="526,220.8439,530,211.8439,526,215.8439,522,211.8439,526,220.8439" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7a32f8026ac2ccb6ad11f5564f1ae0ee]
@startuml
package controller {

  class SubscriptionController {
    -createSubscriptionButton: Button
    -startDate: DateField
    -clientId: String
    +createSubscription(): void
    +getClientSubscriptions(): void
  }

}

package subscription {
  class SubscriptionFacade {
    +create(String clientId, Date startDate): Subscription
    +getClientSubscriptions(String clientId): Subscription[]
  }
}

package dao {
  abstract class DAOFactory {
    +getSubscriptionDAO(): SubscriptionDAO
  }

  interface SubscriptionDAO {
    +findAllByClientId(String clientId): Subscription[]
    +create(Subscription subscription): void
  }

  package postgres {

    class PostgresSubscriptionDAO implements SubscriptionDAO {
      -connection: Connection
      +PostgresSubscriptionDAO(Connection: connection)
    }

    class PostgresDAOFactory extends DAOFactory {
      -connection: Connection
    }

  }

}

PostgresDAOFactory .left> PostgresSubscriptionDAO : "creates"
DAOFactory .left> SubscriptionDAO : "provides"


SubscriptionFacade -down-> DAOFactory
SubscriptionController - -> SubscriptionFacade
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_232-heroku-b09
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>